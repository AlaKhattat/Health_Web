{% extends '@HealthAdvisor/Admin_Template/index.html.twig' %}
{% block head %}
    <head>

        <link href="{{ asset('admin/css/bootstrap.min.css') }}" rel="stylesheet">

        <link href="{{ asset('admin/fonts/css/font-awesome.min.css') }}" rel="stylesheet">
        <link href="{{ asset('admin/css/animate.min.css') }}" rel="stylesheet">

        <!-- Custom styling plus plugins -->
        <link href="{{ asset('admin/css/custom.css') }}" rel="stylesheet">
        <link href="{{ asset('admin/css/icheck/flat/green.css') }}" rel="stylesheet">

        <link href="{{ asset('admin/js/datatables/jquery.dataTables.min.css') }}" rel="stylesheet" type="text/css" />
        <link href="{{ asset('admin/js/datatables/buttons.bootstrap.min.css') }}" rel="stylesheet" type="text/css" />
        <link href="{{ asset('admin/js/datatables/fixedHeader.bootstrap.min.css') }}" rel="stylesheet" type="text/css" />
        <link href="{{ asset('admin/js/datatables/responsive.bootstrap.min.css') }}" rel="stylesheet" type="text/css" />
        <link href="{{ asset('admin/js/datatables/scroller.bootstrap.min.css') }}" rel="stylesheet" type="text/css" />

        <script src="{{ asset('admin/js/jquery.min.js') }}"></script>
    </head>
{% endblock %}
{% block body %}
    <div >
        <div class="right_col" role="main">

            <div class="col-md-12 col-sm-12 col-xs-12">
                <div class="x_panel">
                    <div class="x_title">
                        <h2>Gestion Aliment <small>Liste Aliment</small></h2>
                        <ul class="nav navbar-right panel_toolbox">
                            <li><a href="#"><i class="fa fa-chevron-up"></i></a>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-wrench"></i></a>
                                <ul class="dropdown-menu" role="menu">
                                    <li><a href="#">Settings 1</a>
                                    </li>
                                    <li><a href="#">Settings 2</a>
                                    </li>
                                </ul>
                            </li>
                            <li><a href="#"><i class="fa fa-close"></i></a>
                            </li>
                        </ul>
                        <div class="clearfix"></div>
                    </div>
                    <div class="x_content" id="tableauAliment" >
                        <table id="datatable" class="table table-striped table-bordered" >
                            <thead>
                            <tr>
                                <th>Nom Aliment</th>
                                <th>Quantite</th>
                                <th>Valeur Energetique</th>
                                <th>Type Aliment</th>
                                <th>Modifier</th>
                                <th>Supprimer</th>
                            </tr>
                            </thead>
                            <tbody>
                            {% for i in aliments %}
                                <tr>
                                    <td>{{ i.nomAliment }}</td>
                                    <td> {{ i.quantite }} </td>
                                    <td> {{ i.valeurEnergetique }} </td>
                                    <td> {{ i.typeAliment }} </td>
                                    <td><a href="{{ path('modifier_aliment',{'nomAliment':i.nomAliment}) }}" class="fa fa-edit" style=""></a></td>
                                    <td><a  onclick="supprimerAliment('{{ i.nomAliment}}')" class="fa fa-remove" style=""></a></td>
                                </tr>
                            {% else %}
                                <tr>
                                    <td colspan="4">Pas d'aliment</td>
                                </tr>
                            {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            {% block footer %}
                {{ parent() }}
            {% endblock %}
        </div>
    </div>
    <script src="{{ asset('admin/js/bootstrap.min.js') }}"></script>


    <!-- icheck -->
    <script src="{{ asset('admin/js/icheck/icheck.min.js') }}"></script>

    <script src="{{ asset('admin/js/custom.js') }}"></script>
    <!-- Datatables -->
    <!-- <script src="js/datatables/js/jquery.dataTables.js"></script>
<script src="js/datatables/tools/js/dataTables.tableTools.js"></script> -->

    <!-- Datatables-->
    <script src="{{ asset('admin/js/datatables/jquery.dataTables.min.js') }}"></script>
    <script src="{{ asset('admin/js/datatables/buttons.bootstrap.min.js') }}"></script>
    <script src="{{ asset('admin/js/datatables/dataTables.buttons.min.js') }}"></script>
    <script src="{{ asset('admin/js/datatables/buttons.bootstrap.min.js') }}"></script>
    <script src="{{ asset('admin/js/datatables/jszip.min.js') }}"></script>
    <script src="{{ asset('admin/js/datatables/pdfmake.min.js') }}"></script>
    <script src="{{ asset('admin/js/datatables/vfs_fonts.js') }}"></script>
    <script src="{{ asset('admin/js/datatables/buttons.html5.min.js') }}"></script>
    <script src="{{ asset('admin/js/datatables/buttons.print.min.js') }}"></script>
    <script src="{{ asset('admin/js/datatables/dataTables.fixedHeader.min.js') }}"></script>
    <script src="{{ asset('admin/js/datatables/dataTables.keyTable.min.js') }}"></script>
    <script src="{{ asset('admin/js/datatables/dataTables.responsive.min.js') }}"></script>
    <script src="{{ asset('admin/js/datatables/responsive.bootstrap.min.js') }}"></script>
    <script src="{{ asset('admin/js/datatables/dataTables.scroller.min.js') }}"></script>


    <!-- pace -->
    <script src="{{ asset('admin/js/pace/pace.min.js') }}"></script>
    <script>
        var handleDataTableButtons = function() {
                "use strict";
                0 !== $("#datatable-buttons").length && $("#datatable-buttons").DataTable({
                    dom: "Bfrtip",
                    buttons: [{
                        extend: "copy",
                        className: "btn-sm"
                    }, {
                        extend: "csv",
                        className: "btn-sm"
                    }, {
                        extend: "excel",
                        className: "btn-sm"
                    }, {
                        extend: "pdf",
                        className: "btn-sm"
                    }, {
                        extend: "print",
                        className: "btn-sm"
                    }],
                    responsive: !0
                })
            },
            TableManageButtons = function() {
                "use strict";
                return {
                    init: function() {
                        handleDataTableButtons()
                    }
                }
            }();
    </script>
    <script type="text/javascript">
        $(document).ready(function() {
            $('#datatable').dataTable();
            $('#datatable-keytable').DataTable({
                keys: true
            });
            $('#datatable-responsive').DataTable();
            $('#datatable-scroller').DataTable({
                ajax: "admin/js/datatables/json/scroller-demo.json",
                deferRender: true,
                scrollY: 380,
                scrollCollapse: true,
                scroller: true
            });
            var table = $('#datatable-fixed-header').DataTable({
                fixedHeader: true
            });
        });
        TableManageButtons.init();
    </script>
    <script>
        function supprimerAliment(aliment) {
            var  link = 'http://localhost'+'{{ path('supprimer_aliment') }}';
            $.ajax({
                type: 'GET',
                data: {'nomAliment': aliment},
                url: link,
                dataType:'html',
                success: function (data) {
                    $("#tableauAliment").html(data);
                },
                error: function (data) {
                    console.log("error");
                }
            });
        }

    </script>
{% endblock %}






















